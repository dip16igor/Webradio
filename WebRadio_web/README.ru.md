[Read in English](README.md)

# Веб-интерфейс для WebRadio

Это веб-пульт для управления проектом ESP32 WebRadio. Он предоставляет удобный интерфейс для управления радио с любого устройства с веб-браузером.

## Возможности

- **Отображение статуса в реальном времени**: Показывает текущую станцию, название трека, уровень громкости и статус подключения.
- **Управление воспроизведением**: Управление питанием, громкостью и выбор предустановленных радиостанций.
- **Управление будильником**: Установка и отмена будильников.
- **Адаптивный дизайн**: Интерфейс хорошо работает как на настольных, так и на мобильных браузерах.

## Стек технологий

- **Фронтенд**: HTML, CSS, JavaScript (без фреймворков)
- **Бэкенд**: Node.js с Express.js
- **Обмен данными в реальном времени**: MQTT (через мост на Node.js)

## Установка и настройка

1.  **Установите зависимости**:
    Перейдите в каталог `WebRadio_web` и установите необходимые пакеты Node.js:
    ```bash
    npm install
    ```

2.  **Настройте переменные окружения**:
    Создайте файл `.env` в каталоге `WebRadio_web`, скопировав файл `.env.example`. Затем отредактируйте файл `.env`, чтобы включить URL вашего MQTT-брокера, имя пользователя, пароль и секретный токен для веб-сервера.

    ```
    SECRET_TOKEN=ваш_секретный_токен
    MQTT_BROKER_URL=mqtt://ip_вашего_брокера:1883
    MQTT_USER=ваше_имя_пользователя_mqtt
    MQTT_PASSWORD=ваш_пароль_mqtt
    ```

3.  **Запустите сервер**:
    Выполните следующую команду, чтобы запустить веб-сервер:
    ```bash
    node server.js
    ```

## Развертывание (Linux VPS с systemd)

Чтобы запустить веб-интерфейс как постоянную службу на Linux VPS, вы можете использовать предоставленный файл `webradio-web.service`.

1.  **Скопируйте файл службы** в каталог systemd на вашем VPS:
    ```bash
    sudo cp webradio-web.service /etc/systemd/system/
    ```

2.  **Отредактируйте файл службы**, чтобы он соответствовал пути к вашему проекту и пользователю. Вам может потребоваться изменить директивы `User`, `Group` и `WorkingDirectory`.

3.  **Перезагрузите демон systemd**, чтобы он распознал новую службу:
    ```bash
    sudo systemctl daemon-reload
    ```

4.  **Запустите службу**:
    ```bash
    sudo systemctl start webradio-web
    ```

5.  **Включите запуск службы при загрузке системы**:
    ```bash
    sudo systemctl enable webradio-web
    ```

6.  **Проверьте статус службы**:
    ```bash
    sudo systemctl status webradio-web
    ```
